# Helm

## Что такое helm?

Helm - это менеджер пакетов для kuberntes.

Как любой менеджер пакетов, Helm упрощает задачу управления жизненным циклом приложений.

Апдейт и удаление приложений достаточно простые (ну почти всегда). Поэтому в
данном цикле видео, мы не будем акцентировать внимание на этих действиях. В основном мы 
займемся разбором создания собственных пакетов (chart), их установкой и кастомизацией.

### Документация

* [Helm](https://helm.sh/)
* [Go templates](https://pkg.go.dev/text/template)

### Как работает Helm

Пакет (helm chart или просто chart), обычно распространяется в виде стандартного архива в формате tar.gz
Внутри которого находятся:
* Описание chart.
* Шаблоны манифестов.
* Конфигурационные параметры приложения по умолчанию. 
* Другие, не обязательные файлы.

Для хранения своих Chars подойдет все что угодно, тот же репозиторий на GitHub (Или любой другой git инструмент).
Так же вы можете поднять легкий web сервер с index.html в котором будут ссылки на скачивание нужного вам проекта.

Основная задача helm:
* Получить от пользователя информацию, какие конфигурационные параметры приложения необходимо переопределить.
Обычно для этого используется кастомный файл values.
* Учитывая параметры, сгенерировать из шаблонов файлы манифестов приложений.
* Итоговые файлы манифестов поместить в kubernetes через kubernetes API.

## Установка

Идем [сюда](https://helm.sh/docs/intro/install/), делаем все по инструкции и радуемся жизни.

## Задача

Без определения задачи, нет смысла и что-то делать. А раз вы это читайте, она у вас точно есть.
Давайте ее сформулируем.

У нас есть маленькое приложение, в моем случае это будет nginx. Для этого у нас были реализованы файлы [манифестов](/nginx-app-mainfests)

Задача будет следующая. Реализовать из этих манифестов chart, чтобы мы могли изменять параметры при выполнении deploy на наш kubernetes кластер.

В данном репозитории я не буду реализовывать супер-мега крутой chart, в котором мы сможем поменять вообще все. Нам главное понять, как это работает